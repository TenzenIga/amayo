<div class="comment">
  <div class="comment__header">
    <div class="avatar"></div>
    <a
      [routerLink]="['/u', comment.username]"
      class="py-1 pr-1 username">
      {{ comment.username }}
    </a>
    <a
      [routerLink]="[post.url]"
      class="p-1 ms-2 text-muted date">
      {{ comment.createdAt | dateAgo }}
    </a>
  </div>
  <div class="mt-1 comment__body">
    {{ comment.body }}
  </div>
  <div class="mt-2 comment__footer">
    <div class="reply">
      <fa-icon
        [icon]="faCommentAlt"
        class="reply-icon"></fa-icon>
      <span>Ответить</span>
    </div>
    <div class="ms-4 book">
      <fa-icon [icon]="faBookmark"></fa-icon>
    </div>
    <div class="ms-auto votes">
      <fa-icon
        [icon]="faThumbsUp"
        class="mx-1 thumb-up"
        (click)="onVote(1)"
        [ngClass]="comment.userVote === 1 ? 'text-success' : ''"></fa-icon>
      <span class="text-success">{{ comment.voteScore }}</span>
      <fa-icon
        [icon]="faThumbsDown"
        class="mx-1 thumb-down"
        (click)="onVote(-1)"
        [ngClass]="comment.userVote === -1 ? 'text-danger' : ''"></fa-icon>
    </div>
  </div>
  @if(comment.children.length > 0){
  <ul class="comment-tree">
    @for (subComment of comment.children; track trackByFn($index, subComment)){

    <li>
      <app-comment
        [comment]="subComment"
        (vote)="onVoteComment($event)"
        [post]="post"></app-comment>
    </li>

    }
  </ul>
  }
</div>
